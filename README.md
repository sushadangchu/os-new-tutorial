# Chapter2 批处理系统（优先级1）
## 主要动机
内核不会被应用程序破坏

## 用户程序
支持应用进行计算与结果输出。在裸机上输出 Hello world，就像在其他 OS 上一样。但应用程序无法破坏内核，但能得到内核的服务。

app列表：

- hello_world：输出字符串。
- count_sum：累加一维数组的和，并输出结果。


## 内核应完成功能
设置好内核和用户运行的栈，内核初始化完成后通过 sret 跳转到用户程序进行执行，然后在用户程序系统调用的时候完成特权级切换、上下文保存/恢复及栈的切换

按顺序加载运行多个应用程序。当应用程序出错（非法指令基于 RustSBI 不容易完成，比如访问非法的物理地址）之后直接杀死应用程序并切换到下一个。

## 新增系统调用
- sys_write：向串口写
- sys_exit： 表明任务结束。
## 实现备注
将编译之后的用户镜像和内核打包到一起放到内存上

分离用户和内核特权级，保护OS，用户需要请求内核提供的服务