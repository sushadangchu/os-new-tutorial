#![no_std]
#![no_main]

#[macro_use]
extern crate user_lib;
extern crate alloc;

use alloc::string::String;
use user_lib::{
    open,
    close,
    write,
    read,
};

#[no_mangle]
pub fn main() -> i32 {
    let fd = open("hello", 0);
    let mut buffer: [u8; 32] = [0; 32];
    read(fd, &mut buffer);
    let mut res = String::new();
    for ch in buffer.iter() {
        res.push(*ch as char);
    }
    println!("{}", res);
    close(fd);
    0
}